export declare const script = "\ndocument.addEventListener('DOMContentLoaded', () => {\n    const transcriptDataElement = document.getElementById('authorData');\n    if (!transcriptDataElement) {\n        console.error('Missing author data element.');\n        return;\n    }\n\n    const data = JSON.parse(transcriptDataElement.textContent);\n    const authorMap = new Map((data.authors || []).map(author => [author.id, author]));\n\n    document.querySelectorAll('.messageDiv[data-author-id]').forEach(messageDiv => {\n        const authorId = messageDiv.dataset.authorId;\n        const author = authorMap.get(authorId);\n\n        if (!author) return;\n\n        const avatarImg = messageDiv.querySelector('.messageImg');\n        if (avatarImg) avatarImg.src = author.avatarURL;\n\n        const usernameH3 = messageDiv.querySelector('.messageUsername');\n        if (usernameH3) {\n            usernameH3.textContent = author.member?.displayName ?? author.displayName;\n            usernameH3.style.color = author.member?.displayHexColor ?? '#dbdee1';\n        }\n\n        const badgesDiv = messageDiv.querySelector('.badges');\n        if (badgesDiv) {\n            badgesDiv.innerHTML = '';\n            if (author.bot) {\n                const badge = document.createElement('p');\n                badge.className = 'badge';\n                badge.textContent = 'APP';\n                badgesDiv.appendChild(badge);\n            }\n            if (author.system) {\n                const badge = document.createElement('p');\n                badge.className = 'badge';\n                badge.textContent = 'SYSTEM';\n                badgesDiv.appendChild(badge);\n            }\n            if (author.guildTag) {\n                const badge = document.createElement('p');\n                badge.className = 'badgeTag';\n                badge.textContent = author.guildTag;\n                badgesDiv.appendChild(badge);\n            }\n        }\n    });\n\n    document.querySelectorAll('.messageReply[data-id]').forEach(replyDiv => {\n        const repliedToId = replyDiv.dataset.id;\n        if (!repliedToId) return;\n\n        const repliedToMessageDiv = document.getElementById(repliedToId);\n        if (!repliedToMessageDiv) return; \n\n        const repliedToAuthorId = repliedToMessageDiv.dataset.authorId;\n        const repliedToAuthor = authorMap.get(repliedToAuthorId);\n\n        if (repliedToAuthor) {\n            const replyImg = replyDiv.querySelector('.messageReplyImg');\n            if (replyImg) replyImg.src = repliedToAuthor.avatarURL;\n            \n            const replyBadgesDiv = replyDiv.querySelector('.replyBadges');\n            if (replyBadgesDiv) {\n                replyBadgesDiv.innerHTML = '';\n                if (repliedToAuthor.bot) {\n                    const badge = document.createElement('p');\n                    badge.className = 'badge';\n                    badge.textContent = 'APP';\n                    replyBadgesDiv.appendChild(badge);\n                }\n                if (repliedToAuthor.system) {\n                    const badge = document.createElement('p');\n                    badge.className = 'badge';\n                    badge.textContent = 'SYSTEM';\n                    replyBadgesDiv.appendChild(badge);\n                }\n                if (repliedToAuthor.guildTag) {\n                    const badge = document.createElement('p');\n                    badge.className = 'badgeTag';\n                    badge.textContent = repliedToAuthor.guildTag;\n                    replyBadgesDiv.appendChild(badge);\n                }\n            }\n        }\n\n        const replyTextDiv = replyDiv.querySelector('.messageReplyText');\n        if (replyTextDiv) {\n            const originalContentEl = repliedToMessageDiv.querySelector('.messageContent');\n            if (originalContentEl) {\n                let content = originalContentEl.textContent || '';\n                if (content.length > 100) {\n                    content = content.substring(0, 100).trim() + '...';\n                }\n                \n                const authorName = repliedToAuthor?.member?.displayName ?? repliedToAuthor?.displayName ?? 'Unknown';\n                const authorColor = repliedToAuthor?.member?.displayHexColor ?? 'inherit';\n                \n                const authorNameSpan = `<span style=\"color: ${authorColor};\">${authorName}</span>`;\n                replyTextDiv.innerHTML = authorNameSpan + \" \" + content;\n            }\n        }\n    });\n\n    document.addEventListener('click', function (event) {\n        const spoiler = event.target.closest('.spoilerMsg, .spoilerAttachment');\n        if (spoiler && !spoiler.classList.contains('revealed')) {\n            event.preventDefault();\n            event.stopPropagation();\n            spoiler.classList.add('revealed');\n        }\n\n        const selectorInput = event.target.closest('.selectorInput');\n        document.querySelectorAll('.selector').forEach(selector => {\n            if (!selector.contains(event.target)) {\n                selector.classList.remove('active');\n            }\n        });\n        if (selectorInput) {\n            const selector = selectorInput.closest('.selector');\n            if (selector) {\n                selector.classList.toggle('active');\n            }\n        }\n\n        const replyDiv = event.target.closest('.messageReply');\n        if (replyDiv) {\n            event.preventDefault();\n            const messageId = replyDiv.dataset.id;\n            if (!messageId) return;\n\n            const targetMessage = document.getElementById(messageId);\n            if (targetMessage) {\n                targetMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                targetMessage.classList.add('highlight');\n                setTimeout(() => {\n                    targetMessage.classList.remove('highlight');\n                }, 1500);\n            }\n        }\n    });\n    \n    if (window.hljs) {\n        hljs.highlightAll();\n    }\n});\n";
